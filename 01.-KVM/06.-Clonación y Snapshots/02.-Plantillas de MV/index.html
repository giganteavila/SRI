
<!DOCTYPE html>

<html class="no-js" lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../01.-Clonaci%C3%B3n%20de%20m%C3%A1quinas%20virtuales/" rel="prev"/>
<link href="../03.-Clonaci%C3%B3n%20completa%20con%20plantillas/" rel="next"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.0, mkdocs-material-9.5.35" name="generator"/>
<title>02.-Plantillas de MV - SRI</title>
<link href="../../../assets/stylesheets/main.35f28582.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="green" data-md-color-primary="blue-grey" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#creacion-de-plantillas">
          Saltar a contenido
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Cabecera" class="md-header__inner md-grid">
<a aria-label="SRI" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="SRI">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            SRI
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              02.-Plantillas de MV
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="green" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="blue-grey" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="green" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="blue-grey" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Búsqueda" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Búsqueda" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Buscar" class="md-search__options">
<button aria-label="Limpiar" class="md-search__icon md-icon" tabindex="-1" title="Limpiar" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Pestañas" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../..">
        
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../../">
          
  
    
  
  01.-KVM

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../02.-DHCP/">
          
  
    
  
  02.-DHCP

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navegación" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="SRI" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="SRI">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    SRI
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
<span class="md-ellipsis">
    Home
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../">
<span class="md-ellipsis">
    01.-KVM
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            01.-KVM
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
<span class="md-ellipsis">
    01.-Introducción
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            01.-Introducción
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../01.-Introducci%C3%B3n/01.-%C2%BFQu%C3%A9%20es%20la%20virtualizaci%C3%B3n%3F/">
<span class="md-ellipsis">
    01.-¿Qué es la virtualización?
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../01.-Introducci%C3%B3n/02.-Tipos/">
<span class="md-ellipsis">
    02.-Tipos
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../01.-Introducci%C3%B3n/03.-qemu-kvm/">
<span class="md-ellipsis">
    03.-qemu-kvm
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../01.-Introducci%C3%B3n/04.-libvirt/">
<span class="md-ellipsis">
    04.-libvirt
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../01.-Introducci%C3%B3n/05.-LXC/">
<span class="md-ellipsis">
    05.-LXC
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
<span class="md-ellipsis">
    02.-Instalación
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            02.-Instalación
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/01.-Escenario%20de%20instalaci%C3%B3n/">
<span class="md-ellipsis">
    01.-Escenario de instalación
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/02.-Instalacion/">
<span class="md-ellipsis">
    02.-Instalacion
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/03.-Conexi%C3%B3n%20local%20no%20privilegiada%20a%20libvirt/">
<span class="md-ellipsis">
    03.-Conexión local no privilegiada a libvirt
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/04.-Conexi%C3%B3n%20local%20privilegiada%20a%20libvirt/">
<span class="md-ellipsis">
    04.-Conexión local privilegiada a libvirt
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../02.-Instalaci%C3%B3n/05.-Conexi%C3%B3n%20remota/">
<span class="md-ellipsis">
    05.-Conexión remota
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
<span class="md-ellipsis">
    03.-Creación de MV desde el CLI
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
            03.-Creación de MV desde el CLI
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Creaci%C3%B3n%20de%20MV%20desde%20el%20CLI/01.-Creaci%C3%B3n%20de%20MV%20con%20virt-install/">
<span class="md-ellipsis">
    01.-Creación de MV con virt-install
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Creaci%C3%B3n%20de%20MV%20desde%20el%20CLI/02.-Caracter%C3%ADsticas%20de%20la%20MV/">
<span class="md-ellipsis">
    02.-Características de la MV
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Creaci%C3%B3n%20de%20MV%20desde%20el%20CLI/03.-Gesti%C3%B3n%20de%20MV%20con%20virsh/">
<span class="md-ellipsis">
    03.-Gestión de MV con virsh
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Creaci%C3%B3n%20de%20MV%20desde%20el%20CLI/04.-Definici%C3%B3n%20XML%20de%20una%20MV/">
<span class="md-ellipsis">
    04.-Definición XML de una MV
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../03.-Creaci%C3%B3n%20de%20MV%20desde%20el%20CLI/05.-Modificaci%C3%B3n%20de%20una%20MV/">
<span class="md-ellipsis">
    05.-Modificación de una MV
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
<span class="md-ellipsis">
    04.-Creación de MV con virt-manager
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_5">
<span class="md-nav__icon md-icon"></span>
            04.-Creación de MV con virt-manager
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Creaci%C3%B3n%20de%20MV%20con%20virt-manager/01.-Primeros%20pasos%20con%20virt-manager/">
<span class="md-ellipsis">
    01.-Primeros pasos con virt-manager
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Creaci%C3%B3n%20de%20MV%20con%20virt-manager/02.-Creaci%C3%B3n%20de%20MV%20linux/">
<span class="md-ellipsis">
    02.-Creación de MV linux
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Creaci%C3%B3n%20de%20MV%20con%20virt-manager/03.-Gesti%C3%B3n%20de%20MV/">
<span class="md-ellipsis">
    03.-Gestión de MV
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Creaci%C3%B3n%20de%20MV%20con%20virt-manager/04.-Detalles%20de%20las%20MV/">
<span class="md-ellipsis">
    04.-Detalles de las MV
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../04.-Creaci%C3%B3n%20de%20MV%20con%20virt-manager/05.-Creaci%C3%B3n%20de%20MV%20Wndows/">
<span class="md-ellipsis">
    05.-Creación de MV Wndows
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
<span class="md-ellipsis">
    05.-Almacenamiento
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_6">
<span class="md-nav__icon md-icon"></span>
            05.-Almacenamiento
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Almacenamiento/01.-Introducci%C3%B3n%20al%20almacenamiento/">
<span class="md-ellipsis">
    01.-Introducción al almacenamiento
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Almacenamiento/02.-Introducci%C3%B3n%20al%20almacenamiento%20en%20QEMU%E2%81%84KVM%20%2B%20libvirt/">
<span class="md-ellipsis">
    02.-Introducción al almacenamiento en QEMU⁄KVM + libvirt
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Almacenamiento/03.-Gesti%C3%B3n%20de%20Pools%20de%20Almacenamiento/">
<span class="md-ellipsis">
    03.-Gestión de Pools de Almacenamiento
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Almacenamiento/04.-Gesti%C3%B3n%20de%20vol%C3%BAmenes%20de%20almacenamiento%20con%20libvirt/">
<span class="md-ellipsis">
    04.-Gestión de volúmenes de almacenamiento con libvirt
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Almacenamiento/05.-Gesti%C3%B3n%20de%20vol%C3%BAmenes%20de%20almacenamiento%20con%20herramientas%20espec%C3%ADficas/">
<span class="md-ellipsis">
    05.-Gestión de volúmenes de almacenamiento con herramientas específicas
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../05.-Almacenamiento/06.-Trabajar%20con%20vol%C3%BAmenes%20en%20las%20m%C3%A1quinas%20virtuales/">
<span class="md-ellipsis">
    06.-Trabajar con volúmenes en las máquinas virtuales
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
<span class="md-ellipsis">
    06.-Clonación y Snapshots
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_7">
<span class="md-nav__icon md-icon"></span>
            06.-Clonación y Snapshots
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../01.-Clonaci%C3%B3n%20de%20m%C3%A1quinas%20virtuales/">
<span class="md-ellipsis">
    01.-Clonación de máquinas virtuales
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    02.-Plantillas de MV
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    02.-Plantillas de MV
  </span>
</a>
<nav aria-label="Tabla de contenidos" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#creacion-de-plantillas">
<span class="md-ellipsis">
      Creación de plantillas
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../03.-Clonaci%C3%B3n%20completa%20con%20plantillas/">
<span class="md-ellipsis">
    03.-Clonación completa con plantillas
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../04.-Clonaci%C3%B3n%20enlazada%20con%20plantillas/">
<span class="md-ellipsis">
    04.-Clonación enlazada con plantillas
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../05.-Snapshots%20de%20MV/">
<span class="md-ellipsis">
    05.-Snapshots de MV
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
<span class="md-ellipsis">
    07.-Redes
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_8_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_8">
<span class="md-nav__icon md-icon"></span>
            07.-Redes
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/01.-Introduccion/">
<span class="md-ellipsis">
    01.-Introduccion
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/02.-Definic%C3%B3n%20de%20RV%20%28Privadas%29/">
<span class="md-ellipsis">
    02.-Definicón de RV (Privadas)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/03.-Gesti%C3%B3n%20de%20RV/">
<span class="md-ellipsis">
    03.-Gestión de RV
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/04.-Creaci%C3%B3n%20de%20un%20Puerte%20Externo%20con%20Linux%20Bridge/">
<span class="md-ellipsis">
    04.-Creación de un Puerte Externo con Linux Bridge
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/05.-Gesti%C3%B3n%20de%20Redes%20Puentes%20%28P%C3%BAblicas%29/">
<span class="md-ellipsis">
    05.-Gestión de Redes Puentes (Públicas)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../07.-Redes/06.-Configuraci%C3%B3n%20de%20red%20en%20MV/">
<span class="md-ellipsis">
    06.-Configuración de red en MV
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
<span class="md-ellipsis">
    08.-LXC
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_9_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_9">
<span class="md-nav__icon md-icon"></span>
            08.-LXC
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-LXC/01.-Introduccion%20a%20LXC/">
<span class="md-ellipsis">
    01.-Introduccion a LXC
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-LXC/02.-Creaci%C3%B3n%20y%20gesti%C3%B3n%20de%20contenedores/">
<span class="md-ellipsis">
    02.-Creación y gestión de contenedores
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-LXC/03.-Configuraci%C3%B3n%20de%20contenedores%20LXC/">
<span class="md-ellipsis">
    03.-Configuración de contenedores LXC
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-LXC/04.-Redes%20en%20LXC/">
<span class="md-ellipsis">
    04.-Redes en LXC
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-LXC/05.-Almacenamiento%20en%20LXC/">
<span class="md-ellipsis">
    05.-Almacenamiento en LXC
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../08.-LXC/06.-Introducci%C3%B3n%20a%20LXD/">
<span class="md-ellipsis">
    06.-Introducción a LXD
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
<span class="md-ellipsis">
    09.-Anexos
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_10_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_10">
<span class="md-nav__icon md-icon"></span>
            09.-Anexos
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../09.-Anexos/01.-Uso%20de%20los%20puertos%20USB%20en%20KVM/">
<span class="md-ellipsis">
    01.-Uso de los puertos USB en KVM
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../09.-Anexos/02.-Copiar%20y%20Pegar/">
<span class="md-ellipsis">
    02.-Copiar y Pegar
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_11" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../10.-Ejercicios/">
<span class="md-ellipsis">
    10.-Ejercicios
  </span>
</a>
<label class="md-nav__link" for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_11_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_11">
<span class="md-nav__icon md-icon"></span>
            10.-Ejercicios
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../10.-Ejercicios/01.-Instrucciones%20para%20la%20captura/">
<span class="md-ellipsis">
    01.-Instrucciones para la captura
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../10.-Ejercicios/02.-Solucionario/">
<span class="md-ellipsis">
    02.-Solucionario
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../02.-DHCP/">
<span class="md-ellipsis">
    02.-DHCP
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            02.-DHCP
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/01.-History/">
<span class="md-ellipsis">
    01.-History
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../02.-DHCP/02.-Overview/">
<span class="md-ellipsis">
    02.-Overview
  </span>
</a>
<label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
            02.-Overview
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/02.-Overview/01.-How%20DHCP%20Works/">
<span class="md-ellipsis">
    01.-How DHCP Works
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/02.-Overview/02.-IP%20Address%20Allocation%20Methods/">
<span class="md-ellipsis">
    02.-IP Address Allocation Methods
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/02.-Overview/03.-Additional%20Notes/">
<span class="md-ellipsis">
    03.-Additional Notes
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../02.-DHCP/03.-Operation%20Process/">
<span class="md-ellipsis">
    03.-Operation Process
  </span>
</a>
<label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
            03.-Operation Process
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/03.-Operation%20Process/01.-Discovery/">
<span class="md-ellipsis">
    01.-Discovery
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/03.-Operation%20Process/02.-Offer/">
<span class="md-ellipsis">
    02.-Offer
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/03.-Operation%20Process/03.-Request/">
<span class="md-ellipsis">
    03.-Request
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/03.-Operation%20Process/04.-Acknowledgement/">
<span class="md-ellipsis">
    04.-Acknowledgement
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/03.-Operation%20Process/05.-Additional%20Steps/">
<span class="md-ellipsis">
    05.-Additional Steps
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/04.-Client%20configuration%20parameters/">
<span class="md-ellipsis">
    04.-Client configuration parameters
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../02.-DHCP/05.-DHCP%20Options/">
<span class="md-ellipsis">
    05.-DHCP Options
  </span>
</a>
<label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
            05.-DHCP Options
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/05.-DHCP%20Options/01.-Main%20Categories%20of%20DHCP%20Options/">
<span class="md-ellipsis">
    01.-Main Categories of DHCP Options
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/05.-DHCP%20Options/02.-Important%20DHCP%20Extensions/">
<span class="md-ellipsis">
    02.-Important DHCP Extensions
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/05.-DHCP%20Options/03.-DHCP%20Message%20Types/">
<span class="md-ellipsis">
    03.-DHCP Message Types
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/05.-DHCP%20Options/04.-Client%20Vendor%20Identification/">
<span class="md-ellipsis">
    04.-Client Vendor Identification
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/05.-DHCP%20Options/05.-Other%20Relevant%20Extensions/">
<span class="md-ellipsis">
    05.-Other Relevant Extensions
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../02.-DHCP/06.-Relaying/">
<span class="md-ellipsis">
    06.-Relaying
  </span>
</a>
<label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_7">
<span class="md-nav__icon md-icon"></span>
            06.-Relaying
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/06.-Relaying/01.-DHCP%20Relay%20Process/">
<span class="md-ellipsis">
    01.-DHCP Relay Process
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/06.-Relaying/02.-Special%20Considerations/">
<span class="md-ellipsis">
    02.-Special Considerations
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/06.-Relaying/04.-Benefits/">
<span class="md-ellipsis">
    04.-Benefits
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../02.-DHCP/06.-Relaying/08.-Client%20states/">
<span class="md-ellipsis">
    08.-Client states
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Tabla de contenidos" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#creacion-de-plantillas">
<span class="md-ellipsis">
      Creación de plantillas
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>02.-Plantillas de MV</h1>
<p>Una plantilla de máquina virtual, o simplemente <strong>plantilla</strong> es una imagen preconfigurada de un sistema operativo que puede utilizarse para desplegar rápidamente
máquinas virtuales. El uso de plantillas permite evitar muchas tareas repetitivas de instalación y configuración. El resultado es la creación de máquinas virtuales totalmente instaladas y listas para funcionar en menos tiempo de lo que tardaría una instalación manual.</p>
<p>Con la herramienta <code>virt-clone</code> hemos creado un clon de una máquina virtual, es decir, una copia de una máquina. Una plantilla es una <em>copia maestra</em> que podemos utilizar para crear muchos clones.</p>
<p>Una vez tengamos una plantilla, tendremos dos manera de crear las nuevas máquinas:</p>
<ul>
<li><strong>Clonación completa (Full)</strong>: Creamos una copia completa de la máquina virtual que es totalmente independiente de la plantilla. Requiere el mismo espacio en disco que el original.</li>
<li><strong>Clonación enlazada (Linked)</strong>: Utiliza la imagen de la plantilla como imagen base en modo de sólo lectura y vincula una imagen adicional de "copia en escritura" para almacenar los nuevos datos generados. Requiere menos espacio en disco, pero no puede ejecutarse sin acceso a la imagen de plantilla base.</li>
</ul>
<h2 id="creacion-de-plantillas">Creación de plantillas<a class="headerlink" href="#creacion-de-plantillas" title="Permanent link">¶</a></h2>
<p>Tendríamos que realizar tres pasos fundamentales:</p>
<p>En primer lugar, crear e instalar un nueva máquina virtual e instalarle todo el software necesario. A partir de esa máquina vamos a crear la plantilla.</p>
<p>En segundo lugar, vamos a generalizar la imagen, es decir, vamos a eliminar toda la información que debería ser única en una máquina ( contiene identificadores que deberían ser únicos (como el machine ID, direcciones MAC, claves SSH de host, hostname, ...). De tal forma, que las máquinas clonadas, regenerarán esta información de for ma única al iniciarlas.</p>
<p>En máquinas Linux vamos a usar la utilidad <code>virt-sysprep</code>, para máquinas Windows podemos usar los mecanismos propios de generalización que posee: <a href="https://docs.microsoft.com/es-es/windows-hardware/manufacture/desktop/sysprep--generalize--a-windows-installation?view=windows-11">sysprep</a>.</p>
<p>Para poder utilizar <code>virt-sysprep</code> tenemos que instalar el siguiente paquete:</p>
<pre><code>apt-get install libguestfs-tools
</code></pre>
<p><a href="https://libguestfs.org/virt-sysprep.1.html"><code>virt-sysprep</code></a> puede trabajar con un fichero de imaǵen, usando la opción <code>-a</code>, pero en nuestro caso vamos indicarle una máquina virtual, usando el parámetro <code>-d</code>.</p>
<p>Vamos a suponer que vamos a convertir en plantilla nuestra máquina <code>prueba1</code> que tiene un sistema GNU/Linux Debian 11 instalado. Nuestra máquina original tiene que estar parada. Y para generalizarla, ejecutamos como superusuario:</p>
<pre><code>sudo virt-sysprep -d prueba1 --hostname plantilla-debian11
[   0.0] Examining the guest ...
...
</code></pre>
<p><code>virt-sysprep</code> tienes muchas opciones de configuración, hemos usado el parámetro <code>-hostname</code> para cambiar el nombre de la máquina de la plantilla.</p>
<p>En último lugar, tenemos que evitar ejecutar está máquina de nuevo, ya que la generalización que hemos hecho se perdería. Para conseguirlo vamos a <strong>configurar la imagen original de solo lectura</strong>, de esta manera al intentar ejecutar la plantilla nos dará un error. Para ello como superusuario:</p>
<pre><code>/var/lib/libvirt/images# chmod -w prueba1.qcow2 
</code></pre>
<p>Además, vamos a cambiar el nombre a la máquina para recordar que es un plantilla:</p>
<pre><code>virsh -c qemu:///system domrename prueba1 plantilla-prueba1
Domain successfully renamed
</code></pre>
<p>Este cambio también se podría hacer con <code>virt-manager</code>.</p>
<p>Si intentamos ejecutar la plantilla, nos dará un error:</p>
<p><img alt="plantilla" src="../img/plantilla1.png"/></p>
<p>En cualquier momento podemos cambiar la configuración de la plantilla. Todas las nuevas máquinas clonadas a partir de ella tendrán la misma configuración.</p>
<p>Ya tenemos la plantilla lista para ser clonada. Lo veremos en los siguientes apartados.</p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Volver al principio
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.top", "navigation.top.sticky", "navigation.tabs", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
<script src="../../../assets/javascripts/bundle.56dfad97.min.js"></script>
<script src="../../../javascripts/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</body>
</html>