{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>01.-DHCP</p>"},{"location":"01.-DHCP/","title":"Index","text":"<ul> <li>DHCP: Network protocol that automatically assigns IP addresses and communication settings.</li> <li>Client-server model: DHCP server assigns IPs, while devices (clients) request them.</li> <li>Simplification: Removes the need for manual device configuration.</li> <li>Scalability: Used in networks of all sizes, from small home setups to large infrastructures (ISPs, campuses).</li> <li>Compatibility: Supports both IPv4 and IPv6 (known as DHCPv6).</li> <li>Routers: Many home routers include a built-in DHCP server.</li> </ul>"},{"location":"01.-DHCP/01.-History/","title":"01.-History","text":"<ul> <li>1984: Definition of Reverse Address Resolution Protocol (RARP)</li> <li> <p>Used for configuring IP addresses on simple devices</p> <ul> <li>Limited by the requirement of a server on each network link</li> </ul> </li> <li> <p>1985: Introduction of Bootstrap Protocol (BOOTP)</p> <ul> <li>Improved upon RARP by allowing packet forwarding across networks</li> <li>Enabled a central BOOTP server to serve multiple subnets</li> </ul> </li> <li> <p>October 1993: First definition of DHCP</p> <ul> <li>Based on BOOTP but allows dynamic allocation of IP addresses</li> <li>Can reclaim unused addresses</li> <li>Provides additional configuration parameters</li> </ul> </li> <li> <p>1997: Significant update to DHCP</p> <ul> <li>Addition of the DHCPINFORM message and other minor changes</li> <li>This version remains the core standard for IPv4 networks</li> </ul> </li> <li> <p>2003: Initial definition of DHCPv6 for IPv6 networks</p> </li> <li> <p>2018: New definition of DHCPv6</p> <ul> <li>Merges prefix delegation and stateless address autoconfiguration</li> </ul> </li> </ul>"},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/","title":"04.-Client configuration parameters","text":""},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/#overview","title":"Overview","text":"<ul> <li>DHCP servers can provide optional configuration parameters to clients</li> <li>Defined by Internet Assigned Numbers Authority (IANA)</li> <li>Described in RFC 2132</li> </ul>"},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/#key-points","title":"Key Points","text":"<ul> <li>Clients can select, manipulate, and overwrite server-provided parameters</li> <li>In Unix-like systems, client-level refinement typically occurs in <code>/etc/dhclient.conf</code></li> </ul>"},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/#common-dhcp-options","title":"Common DHCP Options","text":"<ul> <li>Subnet mask</li> <li>Router (default gateway)</li> <li>Domain name servers</li> <li>Host name</li> <li>Domain name</li> <li>Broadcast address</li> <li>Network Time Protocol servers</li> <li>Time offset</li> <li>NetBIOS name servers</li> <li>NetBIOS node type</li> </ul>"},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/#advanced-options","title":"Advanced Options","text":"<ul> <li>Static routes</li> <li>Vendor-specific options</li> <li>TFTP server name</li> <li>Bootfile name</li> </ul>"},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/#client-customization","title":"Client Customization","text":"<ul> <li>Clients can request specific options from the server</li> <li>Can override or supplement server-provided options</li> <li>Allows for fine-tuning of network configuration</li> </ul>"},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/#importance","title":"Importance","text":"<ul> <li>Enables centralized management of network configuration</li> <li>Facilitates automatic and dynamic network setup</li> <li>Supports diverse client requirements within a single network</li> </ul>"},{"location":"01.-DHCP/02.-Overview/","title":"Index","text":"<ul> <li>Protocol that defines how devices communicate within and across local networks on the Internet</li> <li>Allows DHCP servers to automatically and dynamically manage IP settings for devices on a local network</li> </ul>"},{"location":"01.-DHCP/02.-Overview/01.-How%20DHCP%20Works/","title":"01.-How DHCP Works","text":"<ul> <li>Uses client-server model</li> <li>DHCP client (device) sends broadcast query requesting network information</li> <li> <p>DHCP server responds with:</p> <ul> <li>IP address</li> <li>Default gateway</li> <li>Domain name</li> <li>Name servers</li> <li>Time servers</li> <li>Lease duration</li> </ul> </li> </ul>"},{"location":"01.-DHCP/02.-Overview/02.-IP%20Address%20Allocation%20Methods/","title":"02.-IP Address Allocation Methods","text":"<ul> <li> <p>Dynamic allocation</p> <ul> <li>Administrator reserves IP range</li> <li>Addresses leased for controllable time period</li> <li>Unused addresses can be reclaimed and reallocated</li> </ul> </li> <li> <p>Automatic allocation</p> <ul> <li>Server permanently assigns address from defined range</li> <li>Preferentially assigns same address to returning clients</li> </ul> </li> <li> <p>Manual allocation (static DHCP)</p> <ul> <li>Administrator maps unique client identifier to specific IP address</li> <li>Also called reservation or MAC/IP address binding</li> </ul> </li> </ul>"},{"location":"01.-DHCP/02.-Overview/03.-Additional%20Notes/","title":"03.-Additional Notes","text":"<ul> <li>Used for both IPv4 and IPv6</li> <li>IPv6 devices may also use stateless address autoconfiguration</li> <li>IPv6 hosts can use link-local addressing for local network operations</li> </ul>"},{"location":"01.-DHCP/03.-Operation%20Process/","title":"Index","text":"<ul> <li>Uses User Datagram Protocol (UDP)</li> <li>Server listens on port 67, client on port 68</li> <li>Four phases: Discovery, Offer, Request, Acknowledgement (DORA)</li> </ul>"},{"location":"01.-DHCP/03.-Operation%20Process/01.-Discovery/","title":"01.-Discovery","text":"<ul> <li>Client broadcasts DHCPDISCOVER message</li> <li>Uses destination address 255.255.255.255 or subnet broadcast address</li> <li>May request specific IP address</li> </ul>"},{"location":"01.-DHCP/03.-Operation%20Process/02.-Offer/","title":"02.-Offer","text":"<ul> <li>Server responds with DHCPOFFER message</li> <li> <p>Contains:</p> <ul> <li>Client's MAC address</li> <li>Offered IP address</li> <li>Subnet mask</li> <li>Lease duration</li> <li>Server's IP address</li> </ul> </li> </ul>"},{"location":"01.-DHCP/03.-Operation%20Process/03.-Request/","title":"03.-Request","text":"<ul> <li>Client replies with DHCPREQUEST message</li> <li>Broadcasts to server, requesting offered address</li> <li>Includes server identification</li> <li>Other DHCP servers withdraw their offers</li> </ul>"},{"location":"01.-DHCP/03.-Operation%20Process/04.-Acknowledgement/","title":"04.-Acknowledgement","text":"<ul> <li>Server sends DHCPACK packet</li> <li> <p>Includes:</p> <ul> <li>Lease duration</li> <li>Any other requested configuration information</li> </ul> </li> </ul>"},{"location":"01.-DHCP/03.-Operation%20Process/05.-Additional%20Steps/","title":"05.-Additional Steps","text":"<ul> <li> <p>IP Address Selection:</p> <ul> <li>Server may ping address to check availability</li> <li>Client should probe address (e.g., with ARP) before use</li> </ul> </li> <li> <p>Information Request:</p> <ul> <li>Client can request additional information</li> <li>Example: Browsers use DHCP Inform for web proxy settings</li> </ul> </li> <li> <p>Release:</p> <ul> <li>Client can send request to release DHCP information</li> <li>Not mandatory, as clients may disconnect unexpectedly</li> </ul> </li> </ul>"},{"location":"01.-DHCP/05.-DHCP%20Options/","title":"Index","text":"<p>DHCP options are variable-length octet strings using Type-Length-Value (TLV) encoding. Each option consists of:</p> <ul> <li>Option code (first octet)</li> <li>Length (second octet)</li> <li>Value (remaining octets)</li> </ul>"},{"location":"01.-DHCP/05.-DHCP%20Options/01.-Main%20Categories%20of%20DHCP%20Options/","title":"01.-Main Categories of DHCP Options","text":"<p>IP Layer Parameters</p> <ul> <li>Per host: IP forwarding, non-local source routing, policy filter</li> <li>Per interface: MTU, mask discovery, router discovery</li> </ul> <p>Link Layer Parameters</p> <ul> <li>Trailer encapsulation, ARP cache timeout, Ethernet encapsulation</li> </ul> <p>TCP Parameters</p> <ul> <li>Default TTL, keepalive interval, keepalive garbage</li> </ul> <p>Application and Service Parameters</p> <ul> <li>NTP servers, NetBIOS name servers, SMTP servers</li> </ul>"},{"location":"01.-DHCP/05.-DHCP%20Options/02.-Important%20DHCP%20Extensions/","title":"02.-Important DHCP Extensions","text":"<ul> <li>Requested IP address</li> <li>IP address lease time</li> <li>DHCP message type</li> <li>Server identifier</li> <li>Maximum DHCP message size</li> </ul>"},{"location":"01.-DHCP/05.-DHCP%20Options/03.-DHCP%20Message%20Types/","title":"03.-DHCP Message Types","text":"Code Name Description 1 DHCPDISCOVER Client searches for a DHCP server 2 DHCPOFFER Server offers an IP address 3 DHCPREQUEST Client requests the offered address 5 DHCPACK Server confirms the assignment"},{"location":"01.-DHCP/05.-DHCP%20Options/04.-Client%20Vendor%20Identification/","title":"04.-Client Vendor Identification","text":"<ul> <li>Option 60: Vendor Class Identifier (VCI)</li> <li>Allows client to communicate its hardware or firmware type</li> <li>Helps server provide specific configurations</li> </ul>"},{"location":"01.-DHCP/05.-DHCP%20Options/05.-Other%20Relevant%20Extensions/","title":"05.-Other Relevant Extensions","text":"<ul> <li>User class</li> <li>Relay agent information</li> <li>Novell Directory Services (NDS) servers</li> <li>Time zone</li> <li>DHCP Captive-Portal</li> </ul>"},{"location":"01.-DHCP/06.-Relaying/01.-DHCP%20Relay%20Process/","title":"01.-DHCP Relay Process","text":"<ol> <li>Client Broadcast: DHCP client broadcasts on the local subnet.</li> <li>Relay Agent Reception: Relay agent receives the broadcast.</li> <li>Forwarding to Server: Relay agent transmits the request to DHCP servers using unicast.</li> <li>GIADDR Field: Relay agent inserts its own IP address in the GIADDR field of the DHCP packet.</li> <li>Server Response: DHCP server uses GIADDR to determine the subnet and address pool.</li> <li>Reply Transmission: Server sends reply to the GIADDR address using unicast.</li> <li>Client Delivery: Relay agent retransmits the response to the client, usually via unicast.</li> </ol>"},{"location":"01.-DHCP/06.-Relaying/02.-Special%20Considerations/","title":"02.-Special Considerations","text":"<ul> <li>Clients may set the broadcast bit in DHCPDISCOVER packets if they can't accept unicast packets without an IP address.</li> <li>Communication between relay agent and DHCP server typically uses UDP port 67 for both source and destination.</li> </ul>"},{"location":"01.-DHCP/06.-Relaying/04.-Benefits/","title":"04.-Benefits","text":"<ul> <li>Enables DHCP functionality across multiple subnets without requiring a DHCP server on each subnet.</li> <li>Allows centralized management of IP address allocation for large networks.</li> </ul>"},{"location":"01.-DHCP/06.-Relaying/08.-Client%20states/","title":"08.-Client states","text":"<p>A DHCP client can receive these messages from a server: - DHCPOFFER - DHCPACK - DHCPNAK ![[Pasted image 20240919141503.png]]</p> <p>The client moves through DHCP states depending on how the server responds to the messages that the client sends.</p>"},{"location":"01.-DHCP/06.-Relaying/Index/","title":"Index","text":"<p>DHCP relay agents are essential in networks where DHCP servers manage IP addresses for multiple subnets. They enable communication between DHCP clients and servers that are not on the same subnet.</p> <p>Key Functions:</p> <ul> <li>Installed on subnets not directly served by DHCP servers</li> <li>Run on network devices capable of routing between client and server subnets</li> <li>Receive broadcast messages from DHCP clients and forward them to DHCP servers using unicast</li> </ul>"}]}