{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>01.-DHCP</p>"},{"location":"01.-DHCP/","title":"Index","text":"<ul> <li>DHCP: Network protocol that automatically assigns IP addresses and communication settings.</li> <li>Client-server model: DHCP server assigns IPs, while devices (clients) request them.</li> <li>Simplification: Removes the need for manual device configuration.</li> <li>Scalability: Used in networks of all sizes, from small home setups to large infrastructures (ISPs, campuses).</li> <li>Compatibility: Supports both IPv4 and IPv6 (known as DHCPv6).</li> <li>Routers: Many home routers include a built-in DHCP server.</li> </ul>"},{"location":"01.-DHCP/01.-History/","title":"01.-History","text":"<ul> <li>1984: Definition of Reverse Address Resolution Protocol (RARP)</li> <li> <p>Used for configuring IP addresses on simple devices</p> <ul> <li>Limited by the requirement of a server on each network link</li> </ul> </li> <li> <p>1985: Introduction of Bootstrap Protocol (BOOTP)</p> </li> <li> <p>Improved upon RARP by allowing packet forwarding across networks</p> </li> <li> <p>Enabled a central BOOTP server to serve multiple subnets</p> </li> <li> <p>October 1993: First definition of DHCP</p> </li> <li> <p>Based on BOOTP but allows dynamic allocation of IP addresses</p> </li> <li>Can reclaim unused addresses</li> <li> <p>Provides additional configuration parameters</p> </li> <li> <p>1997: Significant update to DHCP</p> </li> <li> <p>Addition of the DHCPINFORM message and other minor changes</p> </li> <li> <p>This version remains the core standard for IPv4 networks</p> </li> <li> <p>2003: Initial definition of DHCPv6 for IPv6 networks</p> </li> <li>2018: New definition of DHCPv6</li> <li>Merges prefix delegation and stateless address autoconfiguration</li> </ul>"},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/","title":"04.-Client configuration parameters","text":""},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/#overview","title":"Overview","text":"<ul> <li>DHCP servers can provide optional configuration parameters to clients</li> <li>Defined by Internet Assigned Numbers Authority (IANA)</li> <li>Described in RFC 2132</li> </ul>"},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/#key-points","title":"Key Points","text":"<ul> <li>Clients can select, manipulate, and overwrite server-provided parameters</li> <li>In Unix-like systems, client-level refinement typically occurs in <code>/etc/dhclient.conf</code></li> </ul>"},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/#common-dhcp-options","title":"Common DHCP Options","text":"<ul> <li>Subnet mask</li> <li>Router (default gateway)</li> <li>Domain name servers</li> <li>Host name</li> <li>Domain name</li> <li>Broadcast address</li> <li>Network Time Protocol servers</li> <li>Time offset</li> <li>NetBIOS name servers</li> <li>NetBIOS node type</li> </ul>"},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/#advanced-options","title":"Advanced Options","text":"<ul> <li>Static routes</li> <li>Vendor-specific options</li> <li>TFTP server name</li> <li>Bootfile name</li> </ul>"},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/#client-customization","title":"Client Customization","text":"<ul> <li>Clients can request specific options from the server</li> <li>Can override or supplement server-provided options</li> <li>Allows for fine-tuning of network configuration</li> </ul>"},{"location":"01.-DHCP/04.-Client%20configuration%20parameters/#importance","title":"Importance","text":"<ul> <li>Enables centralized management of network configuration</li> <li>Facilitates automatic and dynamic network setup</li> <li>Supports diverse client requirements within a single network</li> </ul>"},{"location":"01.-DHCP/02.-Overview/","title":"Index","text":"<ul> <li>Protocol that defines how devices communicate within and across local networks on the Internet</li> <li>Allows DHCP servers to automatically and dynamically manage IP settings for devices on a local network</li> </ul>"},{"location":"01.-DHCP/02.-Overview/01.-How%20DHCP%20Works/","title":"01.-How DHCP Works","text":"<ul> <li>Uses client-server model</li> <li>DHCP client (device) sends broadcast query requesting network information</li> <li> <p>DHCP server responds with:</p> <ul> <li>IP address</li> <li>Default gateway</li> <li>Domain name</li> <li>Name servers</li> <li>Time servers</li> <li>Lease duration</li> </ul> </li> </ul>"},{"location":"01.-DHCP/02.-Overview/02.-IP%20Address%20Allocation%20Methods/","title":"02.-IP Address Allocation Methods","text":"<ul> <li> <p>Dynamic allocation</p> <ul> <li>Administrator reserves IP range</li> <li>Addresses leased for controllable time period</li> <li>Unused addresses can be reclaimed and reallocated</li> </ul> </li> <li> <p>Automatic allocation</p> <ul> <li>Server permanently assigns address from defined range</li> <li>Preferentially assigns same address to returning clients</li> </ul> </li> <li> <p>Manual allocation (static DHCP)</p> <ul> <li>Administrator maps unique client identifier to specific IP address</li> <li>Also called reservation or MAC/IP address binding</li> </ul> </li> </ul>"},{"location":"01.-DHCP/02.-Overview/03.-Additional%20Notes/","title":"03.-Additional Notes","text":"<ul> <li>Used for both IPv4 and IPv6</li> <li>IPv6 devices may also use stateless address autoconfiguration</li> <li>IPv6 hosts can use link-local addressing for local network operations</li> </ul>"},{"location":"01.-DHCP/03.-Operation%20Process/","title":"Index","text":"<ul> <li>Uses User Datagram Protocol (UDP)</li> <li>Server listens on port 67, client on port 68</li> <li>Four phases: Discovery, Offer, Request, Acknowledgement (DORA)</li> </ul>"},{"location":"01.-DHCP/03.-Operation%20Process/01.-Discovery/","title":"01.-Discovery","text":"<ul> <li>Client broadcasts DHCPDISCOVER message</li> <li>Uses destination address 255.255.255.255 or subnet broadcast address</li> <li>May request specific IP address</li> </ul>"},{"location":"01.-DHCP/03.-Operation%20Process/02.-Offer/","title":"02.-Offer","text":"<ul> <li>Server responds with DHCPOFFER message</li> <li> <p>Contains:</p> <ul> <li>Client's MAC address</li> <li>Offered IP address</li> <li>Subnet mask</li> <li>Lease duration</li> <li>Server's IP address</li> </ul> </li> </ul>"},{"location":"01.-DHCP/03.-Operation%20Process/03.-Request/","title":"03.-Request","text":"<ul> <li>Client replies with DHCPREQUEST message</li> <li>Broadcasts to server, requesting offered address</li> <li>Includes server identification</li> <li>Other DHCP servers withdraw their offers</li> </ul>"},{"location":"01.-DHCP/03.-Operation%20Process/04.-Acknowledgement/","title":"04.-Acknowledgement","text":"<ul> <li>Server sends DHCPACK packet</li> <li> <p>Includes:</p> <ul> <li>Lease duration</li> <li>Any other requested configuration information</li> </ul> </li> </ul>"},{"location":"01.-DHCP/03.-Operation%20Process/05.-Additional%20Steps/","title":"05.-Additional Steps","text":"<ul> <li> <p>IP Address Selection:</p> <ul> <li>Server may ping address to check availability</li> <li>Client should probe address (e.g., with ARP) before use</li> </ul> </li> <li> <p>Information Request:</p> <ul> <li>Client can request additional information</li> <li>Example: Browsers use DHCP Inform for web proxy settings</li> </ul> </li> <li> <p>Release:</p> <ul> <li>Client can send request to release DHCP information</li> <li>Not mandatory, as clients may disconnect unexpectedly</li> </ul> </li> </ul>"},{"location":"01.-DHCP/05.-DHCP%20Options/","title":"Index","text":"<p>DHCP options are variable-length octet strings using Type-Length-Value (TLV) encoding. Each option consists of:</p> <ul> <li>Option code (first octet)</li> <li>Length (second octet)</li> <li>Value (remaining octets)</li> </ul>"},{"location":"01.-DHCP/05.-DHCP%20Options/01.-Main%20Categories%20of%20DHCP%20Options/","title":"01.-Main Categories of DHCP Options","text":"<p>IP Layer Parameters</p> <ul> <li>Per host: IP forwarding, non-local source routing, policy filter</li> <li>Per interface: MTU, mask discovery, router discovery</li> </ul> <p>Link Layer Parameters</p> <ul> <li>Trailer encapsulation, ARP cache timeout, Ethernet encapsulation</li> </ul> <p>TCP Parameters</p> <ul> <li>Default TTL, keepalive interval, keepalive garbage</li> </ul> <p>Application and Service Parameters</p> <ul> <li>NTP servers, NetBIOS name servers, SMTP servers</li> </ul>"},{"location":"01.-DHCP/05.-DHCP%20Options/02.-Important%20DHCP%20Extensions/","title":"02.-Important DHCP Extensions","text":"<ul> <li>Requested IP address</li> <li>IP address lease time</li> <li>DHCP message type</li> <li>Server identifier</li> <li>Maximum DHCP message size</li> </ul>"},{"location":"01.-DHCP/05.-DHCP%20Options/03.-DHCP%20Message%20Types/","title":"03.-DHCP Message Types","text":"Code Name Description 1 DHCPDISCOVER Client searches for a DHCP server 2 DHCPOFFER Server offers an IP address 3 DHCPREQUEST Client requests the offered address 5 DHCPACK Server confirms the assignment"},{"location":"01.-DHCP/05.-DHCP%20Options/04.-Client%20Vendor%20Identification/","title":"04.-Client Vendor Identification","text":"<ul> <li>Option 60: Vendor Class Identifier (VCI)</li> <li>Allows client to communicate its hardware or firmware type</li> <li>Helps server provide specific configurations</li> </ul>"},{"location":"01.-DHCP/05.-DHCP%20Options/05.-Other%20Relevant%20Extensions/","title":"05.-Other Relevant Extensions","text":"<ul> <li>User class</li> <li>Relay agent information</li> <li>Novell Directory Services (NDS) servers</li> <li>Time zone</li> <li>DHCP Captive-Portal</li> </ul>"},{"location":"01.-DHCP/06.-Relaying/","title":"Index","text":"<p>DHCP relay agents are essential in networks where DHCP servers manage IP addresses for multiple subnets. They enable communication between DHCP clients and servers that are not on the same subnet.</p> <p>Key Functions:</p> <ul> <li>Installed on subnets not directly served by DHCP servers</li> <li>Run on network devices capable of routing between client and server subnets</li> <li>Receive broadcast messages from DHCP clients and forward them to DHCP servers using unicast</li> </ul>"},{"location":"01.-DHCP/06.-Relaying/01.-DHCP%20Relay%20Process/","title":"01.-DHCP Relay Process","text":"<ol> <li>Client Broadcast: DHCP client broadcasts on the local subnet.</li> <li>Relay Agent Reception: Relay agent receives the broadcast.</li> <li>Forwarding to Server: Relay agent transmits the request to DHCP servers using unicast.</li> <li>GIADDR Field: Relay agent inserts its own IP address in the GIADDR field of the DHCP packet.</li> <li>Server Response: DHCP server uses GIADDR to determine the subnet and address pool.</li> <li>Reply Transmission: Server sends reply to the GIADDR address using unicast.</li> <li>Client Delivery: Relay agent retransmits the response to the client, usually via unicast.</li> </ol>"},{"location":"01.-DHCP/06.-Relaying/02.-Special%20Considerations/","title":"02.-Special Considerations","text":"<ul> <li>Clients may set the broadcast bit in DHCPDISCOVER packets if they can't accept unicast packets without an IP address.</li> <li>Communication between relay agent and DHCP server typically uses UDP port 67 for both source and destination.</li> </ul>"},{"location":"01.-DHCP/06.-Relaying/04.-Benefits/","title":"04.-Benefits","text":"<ul> <li>Enables DHCP functionality across multiple subnets without requiring a DHCP server on each subnet.</li> <li>Allows centralized management of IP address allocation for large networks.</li> </ul>"},{"location":"01.-DHCP/06.-Relaying/08.-Client%20states/","title":"08.-Client states","text":"<p>A DHCP client can receive these messages from a server: - DHCPOFFER - DHCPACK - DHCPNAK ![[Pasted image 20240919141503.png]]</p> <p>The client moves through DHCP states depending on how the server responds to the messages that the client sends.</p>"},{"location":"99.-Disaster%20Drawer/01.-Crear%20proyecto%20en%20GitHub/","title":"Crear proyecto en GitHub","text":""},{"location":"99.-Disaster%20Drawer/01.-Crear%20proyecto%20en%20GitHub/#crear-un-nuevo-repositorio-en-github","title":"Crear un nuevo repositorio en GitHub","text":"<ol> <li>Inicia sesi\u00f3n en tu cuenta de GitHub.</li> <li>En la esquina superior derecha de cualquier p\u00e1gina, haz clic en el s\u00edmbolo \"+\" y selecciona \"Nuevo repositorio\".</li> <li>Escribe un nombre corto y descriptivo para tu repositorio.</li> <li>Opcionalmente, a\u00f1ade una descripci\u00f3n del proyecto.</li> <li>Elige la visibilidad del repositorio (p\u00fablico o privado).</li> <li>No selecciones la opci\u00f3n de inicializar el repositorio con un README, ya que vas a subir un proyecto existente.</li> <li>Haz clic en \"Crear repositorio\".</li> </ol>"},{"location":"99.-Disaster%20Drawer/01.-Crear%20proyecto%20en%20GitHub/#subir-tu-proyecto-local-a-github","title":"Subir tu proyecto local a GitHub","text":"<p>Una vez creado el repositorio, GitHub te mostrar\u00e1 instrucciones para subir un proyecto existente. Sigue estos pasos en tu terminal local:</p> <ol> <li> <p>Abre la terminal y navega al directorio de tu proyecto local.</p> </li> <li> <p>Inicializa el repositorio Git local (si a\u00fan no lo has hecho):    <code>git init</code></p> </li> <li> <p>A\u00f1ade todos los archivos de tu proyecto al repositorio:    <code>git add .</code></p> </li> <li> <p>Realiza el primer commit:    <code>git commit -m \"Primer commit: Subida inicial del proyecto\"</code></p> </li> <li> <p>A\u00f1ade la URL del repositorio remoto de GitHub:    <code>git remote add origin https://github.com/tu-usuario/nombre-del-repositorio.git</code></p> </li> <li> <p>Cambia el nombre de la rama principal de master a main:</p> </li> </ol> <p><code>bash    git branch -M main</code></p> <ol> <li>Sube los cambios al repositorio remoto:</li> </ol> <p><code>git push -u origin main</code></p>"},{"location":"99.-Disaster%20Drawer/01.-Crear%20proyecto%20en%20GitHub/#verificacion","title":"Verificaci\u00f3n","text":"<p>Despu\u00e9s de completar estos pasos, actualiza la p\u00e1gina de tu repositorio en GitHub. Deber\u00edas ver todos los archivos de tu proyecto local ahora en GitHub.</p>"},{"location":"99.-Disaster%20Drawer/01.-Crear%20proyecto%20en%20GitHub/#recomendaciones-adicionales","title":"Recomendaciones adicionales","text":"<ul> <li>Si tu proyecto incluye archivos grandes o sensibles, considera usar un archivo <code>.gitignore</code> para excluirlos del control de versiones.</li> <li>Aseg\u00farate de tener un README.md en tu proyecto que explique qu\u00e9 hace y c\u00f3mo utilizarlo.</li> <li>Si est\u00e1s utilizando GitHub Pages para publicar tu sitio, aseg\u00farate de que tu estructura de archivos sea correcta y que tengas un archivo <code>index.html</code> en la ra\u00edz o en la carpeta <code>/docs</code>, dependiendo de tu configuraci\u00f3n.</li> </ul>"},{"location":"99.-Disaster%20Drawer/02.-KVM/01.-Redes%20en%20KVM/","title":"01.-Redes en KVM","text":""},{"location":"99.-Disaster%20Drawer/02.-KVM/01.-Redes%20en%20KVM/#redes-en-kvm","title":"Redes en KVM","text":"<p>KVM ofrece varias opciones para configurar redes virtuales:</p> <p>Bridge Mode:</p> <ul> <li>Permite que las VMs aparezcan como dispositivos directamente conectados a la red f\u00edsica.</li> <li>Utiliza bridges de Linux para compartir conexiones entre interfaces f\u00edsicas y virtuales.</li> <li>Ideal para entornos donde las VMs necesitan acceso directo a la red local.</li> </ul> <p>Routed Mode:</p> <ul> <li>Crea una red virtual aislada para las VMs.</li> <li>El host KVM act\u00faa como router, enmascarando las VMs.</li> <li>\u00datil cuando se requiere mayor control y aislamiento de las VMs.</li> </ul>"},{"location":"99.-Disaster%20Drawer/02.-KVM/01.-Redes%20en%20KVM/#componentes-clave","title":"Componentes clave","text":"<ol> <li>Hipervisor: KVM convierte el kernel de Linux en un hipervisor tipo 1.</li> <li>QEMU: Emulador que trabaja en conjunto con KVM para proporcionar virtualizaci\u00f3n completa.</li> <li>libvirt: Capa de gesti\u00f3n que facilita la configuraci\u00f3n y ejecuci\u00f3n de VMs.</li> <li>Bridges: Utilizados para conectar las interfaces virtuales (TAPs) con las interfaces f\u00edsicas.</li> <li>TAPs: Interfaces de software que emulan las NICs virtuales de las VMs.</li> </ol>"},{"location":"99.-Disaster%20Drawer/02.-KVM/02.-Aprovisionamiento%20ligero%20de%20discos/","title":"02.-Aprovisionamiento ligero de discos","text":"<p>Para crear una m\u00e1quina virtual cuyo espacio f\u00edsico de almacenamiento crezca seg\u00fan la demanda, ocupando menos espacio en disco  inicialmente, puedes utilizar el aprovisionamiento ligero (thin  provisioning) con im\u00e1genes de disco de expansi\u00f3n din\u00e1mica. Esto se puede lograr de la siguiente manera:</p>"},{"location":"99.-Disaster%20Drawer/02.-KVM/02.-Aprovisionamiento%20ligero%20de%20discos/#creacion-de-la-imagen-de-disco","title":"Creaci\u00f3n de la imagen de disco","text":"<ol> <li>Utiliza el formato qcow2 (QEMU Copy-On-Write versi\u00f3n 2) para la imagen de disco:</li> </ol> <pre><code>text\nqemu-img create -f qcow2 nombre_imagen.qcow2 tama\u00f1o_virtual\n</code></pre> <p>Por ejemplo:</p> <pre><code>text\nqemu-img create -f qcow2 mi_vm_disco.qcow2 50G\n</code></pre> <p>Este comando crea una imagen de disco que aparecer\u00e1 como un disco  de 50 GB para la m\u00e1quina virtual, pero inicialmente ocupar\u00e1 muy poco  espacio en el host.</p>"},{"location":"99.-Disaster%20Drawer/02.-KVM/02.-Aprovisionamiento%20ligero%20de%20discos/#configuracion-en-virt-manager","title":"Configuraci\u00f3n en virt-manager","text":"<p>Si est\u00e1s usando virt-manager para crear la VM:</p> <ol> <li>En el paso de configuraci\u00f3n del almacenamiento, selecciona \"Select or create custom storage\".</li> <li>Haz clic en \"Manage...\" y luego en \"Add Pool\" para crear un nuevo pool si es necesario.</li> <li>Selecciona el pool y haz clic en \"Create new volume\".</li> <li>En el di\u00e1logo de creaci\u00f3n de volumen: Elige el formato \"qcow2\" Establece el tama\u00f1o m\u00e1ximo deseado Aseg\u00farate de que \"Allocation\" est\u00e9 configurado en 0 para thin provisioning</li> </ol>"},{"location":"99.-Disaster%20Drawer/02.-KVM/02.-Aprovisionamiento%20ligero%20de%20discos/#configuracion-en-linea-de-comandos","title":"Configuraci\u00f3n en l\u00ednea de comandos","text":"<p>Si prefieres usar la l\u00ednea de comandos:</p> <ol> <li>Crea la imagen de disco como se mostr\u00f3 anteriormente.</li> <li>Al definir la VM con <code>virt-install</code>, usa la opci\u00f3n <code>--disk</code>:</li> </ol> <pre><code>textvirt-install --name mi_vm --memory 2048 --vcpus 2 \\\n  --disk path=/ruta/a/mi_vm_disco.qcow2,format=qcow2,bus=virtio \\\n  --os-variant=rhel8.0 \\\n  # ... otras opciones necesarias\n</code></pre>"},{"location":"99.-Disaster%20Drawer/02.-KVM/02.-Aprovisionamiento%20ligero%20de%20discos/#ventajas-del-aprovisionamiento-ligero","title":"Ventajas del aprovisionamiento ligero","text":"<ul> <li>Eficiencia en el uso del espacio: La imagen solo crecer\u00e1 cuando se escriban datos reales en el disco virtual.</li> <li>Flexibilidad: Puedes \"sobreprovisionar\" el almacenamiento, asignando m\u00e1s espacio virtual del que f\u00edsicamente tienes disponible.</li> </ul>"},{"location":"99.-Disaster%20Drawer/02.-KVM/02.-Aprovisionamiento%20ligero%20de%20discos/#consideraciones-importantes","title":"Consideraciones importantes","text":"<ol> <li>Monitoreo: Es crucial monitorear el crecimiento real de las im\u00e1genes para evitar quedarse sin espacio en el host.</li> <li>Rendimiento: Las im\u00e1genes de expansi\u00f3n din\u00e1mica pueden tener un ligero impacto en el rendimiento comparado con im\u00e1genes de tama\u00f1o fijo.</li> <li>Fragmentaci\u00f3n: Con el tiempo, estas im\u00e1genes pueden fragmentarse, lo que puede afectar el rendimiento.</li> <li>Compactaci\u00f3n: Peri\u00f3dicamente, puedes necesitar compactar las im\u00e1genes para liberar espacio no utilizado:</li> </ol> <pre><code>text\nqemu-img convert -O qcow2 imagen_original.qcow2 imagen_compactada.qcow2\n</code></pre> <p>Utilizando estas t\u00e9cnicas, podr\u00e1s crear m\u00e1quinas virtuales que  inicialmente ocupen poco espacio en disco y crezcan seg\u00fan sea necesario, optimizando el uso del almacenamiento en tu sistema host.</p>"}]}